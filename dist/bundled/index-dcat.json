{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/schemas/1.0.0/dcat.yaml",
  "title": "Schema for InGrid Index 'DCAT-AP.de'",
  "type": "object",
  "allOf": [
    {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "title": "Root fields",
      "properties": {
        "id": {
          "type": "string",
          "description": "Für UMWELTNAVI <oid>-<part>",
          "examples": [
            "nlwkn-dsk-4922-21000-0"
          ]
        },
        "schema_version": {
          "type": "string",
          "description": "Version des Schemas des Indexes"
        },
        "type": {
          "type": "string",
          "deprecated": true,
          "enum": [
            "UMWELTNAVI",
            "UMWELTNAVI_SUB_GEOMETRY"
          ]
        },
        "title": {
          "type": "string",
          "$comment": "Ehemaliges Indexfeld: name"
        },
        "description": {
          "type": "string"
        },
        "spatial": {
          "type": "object",
          "properties": {
            "geometry": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "Wie in GeoJSON: https://de.wikipedia.org/wiki/GeoJSON",
                "$comment": "Ehemaliges Indexfeld: location"
              },
              "minItems": 0
            },
            "geometries": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "ergänzt nach Besprechung mit jm und aw",
                "$comment": "Ehemaliges Indexfeld: location"
              },
              "minItems": 0
            },
            "bbox": {
              "type": "string",
              "description": "Umschließende BBOX der Geometrie"
            },
            "centroid": {
              "type": "string",
              "description": "Schwerpunkt der Geometrie"
            },
            "inside_point": {
              "type": "string",
              "description": "Punkt innerhalb der Geometrie, der dem Schwerpunkt am nächsten liegt."
            },
            "geometry_points": {
              "type": "string",
              "description": "Geometrie als Punkte, wird für Distanz Berechnung verwendet (geo_distance Sortierung funktioniert nicht mit geo_shape)",
              "$comment": "Ehemaliges Indexfeld: location_points"
            },
            "outline": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "Outline für die Darstellung, ggf. reduzierte Geometrie"
              },
              "minItems": 0
            },
            "title": {
              "type": "string",
              "description": "Für UMWELTNAVI <oid>-<geometrie-id>"
            },
            "toponym": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "Textueller Raumbezug (wie Stadtnamen oder Flussnamen)",
                "examples": [
                  "Frankfurt am Main",
                  "Hamburg"
                ]
              },
              "minItems": 0
            },
            "administrative": {
              "type": "object",
              "properties": {
                "state": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "description": "Land (z.B. ni, sh, rp)"
                  },
                  "minItems": 0
                },
                "regional-key": {
                  "type": "string"
                }
              },
              "description": "Administrative Zuordnung"
            }
          },
          "$comment": "Ehemaliges Indexfeld: layer"
        },
        "created": {
          "type": "string",
          "description": "Ergänzt. Erstellungsdatum. \"issued\" ist dafür nicht passend. In DCAT-AP.de  gibt es die Eigenschaft der Erstellung, \"created\" nicht, aber dort soll \"isssued\" das \"Herausgabe/Emission (z.B. in Form einer Veröffentlichung)\" ausdrücken."
        },
        "modified": {
          "type": "string",
          "description": "Änderungsdatum des Metadatensatzes"
        },
        "issued": {
          "type": "string"
        },
        "temporal": {
          "type": "object",
          "properties": {
            "data-temporal": {
              "type": "object",
              "properties": {
                "date_range": {
                  "type": "string"
                },
                "date_text": {
                  "type": "string",
                  "description": "Wird verwendet, wenn der Wert nicht in eine gültige DateRange Übertragbar ist",
                  "examples": [
                    "Sommer 2010"
                  ]
                },
                "date_type": {
                  "type": "string",
                  "enum": [
                    "created"
                  ]
                }
              },
              "if": {
                "not": {
                  "required": [
                    "date_range"
                  ]
                }
              },
              "then": {
                "required": [
                  "date_text"
                ]
              }
            }
          },
          "description": "Gültigkeitsdatumsbereich der beschriebenen Daten",
          "$comment": "Ehemaliges Indexfeld: object_date"
        },
        "keywords": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "term": {
                "type": "string",
                "description": "Keyword "
              },
              "id": {
                "type": "string",
                "description": "Eindeutiger Identifier des Keywords bezüglich der Quelle oder auch  URL-freundliche Form des Keywords (Slug)",
                "examples": [
                  "wk000680 "
                ]
              },
              "source": {
                "type": "string"
              }
            },
            "required": [
              "term"
            ]
          },
          "minItems": 0
        },
        "fulltext": {
          "type": "string",
          "description": "Für Full Text Suche. Signifikanz von genauen Treffern kann hier geboostet werden."
        },
        "sort_uuid": {
          "type": "string"
        },
        "language": {
          "type": "string"
        },
        "format": {
          "type": "string"
        },
        "contact": {
          "type": "object",
          "properties": {
            "role": {
              "type": "string"
            },
            "title": {
              "type": "string"
            },
            "email": {
              "type": "string"
            }
          }
        }
      },
      "required": [
        "id",
        "schema_version",
        "type",
        "title",
        "created",
        "modified",
        "fulltext"
      ]
    },
    {
      "type": "object",
      "title": "DCAT-AP.de",
      "properties": {
        "dcat": {
          "type": "object",
          "description": "All fields for DCAT-AP.de",
          "properties": {
            "applicable_legislation": {
              "type": "string"
            },
            "accessService": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "UUID des Metdatensatzes des Dienstes"
                },
                "endpointURL": {
                  "type": "string",
                  "description": "URL zur Capabilities des Dienstes"
                },
                "conformsTo": {
                  "type": "string",
                  "description": "Conformance to a standard, i.e. http://www.opengis.net/def/serviceType/ogc/wms ",
                  "examples": [
                    "http://www.opengis.net/def/serviceType/ogc/wms"
                  ]
                }
              },
              "description": "Info über Dienst der den Datensatz nutzt, vgl. https://www.w3.org/TR/vocab-dcat-3/#Property:distribution_access_service"
            },
            "landing-page": {
              "type": "string"
            },
            "political-geocoding-level-uri": {
              "type": "string"
            },
            "temporal": {
              "type": "object",
              "properties": {
                "period-of-time": {
                  "type": "string"
                },
                "accrual-periodicity": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                }
              }
            },
            "availability": {
              "type": "string"
            },
            "catalog": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "contributor-id": {
                  "type": "string"
                },
                "url": {
                  "type": "string",
                  "description": "Homepage des Katalogs, falls vorhanden"
                },
                "description": {
                  "type": "string"
                }
              }
            },
            "licenses": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "attribution-by-text": {
                  "type": "string"
                }
              }
            },
            "access_url": {
              "type": "string"
            },
            "download_url": {
              "type": "string"
            }
          }
        }
      }
    }
  ]
}